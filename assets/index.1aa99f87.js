import{o as e,c as t,a,t as s,p as n,b as l,d as o,r as i,P as r,e as d,w as p,f as u}from"./vendor.94e83de9.js";const c={props:["modelValue","label","placeholder"],emits:["update:modelValue"]},m={class:"k-input"},x={class:"k-input-label"};c.render=function(n,l,o,i,r,d){return e(),t("div",m,[a("div",x,s(o.label),1),a("input",{class:"k-input-content",type:"text",placeholder:o.placeholder,value:o.modelValue,onInput:l[1]||(l[1]=e=>n.$emit("update:modelValue",e.target.value))},null,40,["placeholder","value"])])};const h={components:{Kinput:c},name:"MathEquation",data:()=>({defaultExpression:"cos(x);sin(x);",expression:"cos(x);sin(x);",intervalSlider:6}),watch:{expression(){this.drawExpression(this.expression)},intervalSlider(){this.drawExpression(this.expression)}},mounted(){this.drawExpression(this.expression)},methods:{drawExpression(e){let t=-1===e.indexOf("x")||-1===e.indexOf("y")?"scatter":"scatter3d",a=e.split(";");"scatter"==t?this.draw2DExpression(a,this.intervalSlider):this.draw3DExpression(a,this.intervalSlider)},draw2DExpression(e,t){let a=[];for(let n of e){if(!n)continue;let e;try{e=o(n);const s=i(-t,t,.01).toArray(),l=s.map((function(t){return e.evaluate({x:t})}));a.push({x:s,y:l,type:"scatter",name:n.trim()})}catch(s){continue}}r.newPlot("plot",a)},draw3DExpression(e,t){let a=[];for(let n of e){if(!n)continue;let e,l=-1!==n.indexOf("x"),r=-1!==n.indexOf("y");try{e=o(n);const s=i(-t,t,.01).toArray();let d,p,u;l&&r&&(d=s,p=s,u=d.map((function(t){return e.evaluate({x:t,y:t})}))),l&&!r&&(d=s,p=s.map((()=>0)),u=d.map((function(t){return e.evaluate({x:t,y:0})}))),r&&!l&&(d=s.map((()=>0)),p=s,u=p.map((function(t){return e.evaluate({x:0,y:t})}))),a.push({x:d,y:p,z:u,type:"scatter3d",name:n.trim()})}catch(s){continue}}r.newPlot("plot",a)}}},v=p("data-v-6e21c480");n("data-v-6e21c480");const f={class:"math-equation-content"},y=a("a",{href:"https://github.com/chenkai0520/math-equation",class:"github"},"Github",-1),w={class:"expression"},V=a("div",{id:"plot"},null,-1);l();const E=v(((s,n,l,o,i,r)=>{const p=d("Kinput");return e(),t("div",f,[y,a("div",w,[a(p,{label:"方程",modelValue:i.expression,"onUpdate:modelValue":n[1]||(n[1]=e=>i.expression=e),placeholder:i.defaultExpression},null,8,["modelValue","placeholder"]),a(p,{label:"X轴范围",modelValue:i.intervalSlider,"onUpdate:modelValue":n[2]||(n[2]=e=>i.intervalSlider=e),modelModifiers:{number:!0}},null,8,["modelValue"])]),V])}));h.render=E,h.__scopeId="data-v-6e21c480";u({setup:a=>(a,s)=>(e(),t(h,{msg:"Hello Vue 3 + Vite"}))}).mount("#app");
