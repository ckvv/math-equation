import{o as e,c as t,a,t as s,p as n,b as l,d as o,r,P as i,e as d,w as p,f as u}from"./vendor.94e83de9.js";const c={props:["modelValue","label","placeholder"],emits:["update:modelValue"]},x={class:"k-input"},m={class:"k-input-label"};c.render=function(n,l,o,r,i,d){return e(),t("div",x,[a("div",m,s(o.label),1),a("input",{class:"k-input-content",type:"text",placeholder:o.placeholder,value:o.modelValue,onInput:l[1]||(l[1]=e=>n.$emit("update:modelValue",e.target.value))},null,40,["placeholder","value"])])};const h={components:{Kinput:c},name:"MathEquation",data:()=>({defaultExpression:"cos(x);sin(x);",expression:"cos(x);sin(x);",intervalSlider:6}),watch:{expression(){this.drawExpression(this.expression)},intervalSlider(){this.drawExpression(this.expression)}},mounted(){this.drawExpression(this.expression)},methods:{drawExpression(e){let t=-1===e.indexOf("x")||-1===e.indexOf("y")?"scatter":"scatter3d",a=e.split(";");"scatter"==t?this.draw2DExpression(a,this.intervalSlider):this.draw3DExpression(a,this.intervalSlider)},draw2DExpression(e,t){let a=[];for(let n of e){if(!n)continue;let e;try{e=o(n);const s=r(-t,t,.01).toArray(),l=s.map((function(t){return e.evaluate({x:t})}));a.push({x:s,y:l,type:"scatter",name:n.trim()})}catch(s){continue}}i.newPlot("plot",a)},draw3DExpression(e,t){let a=[];for(let n of e){if(!n)continue;let e,l=-1!==n.indexOf("x"),i=-1!==n.indexOf("y");try{e=o(n);const s=r(-t,t,.01).toArray();let d,p,u;l&&i&&(d=s,p=s,u=d.map((function(t){return e.evaluate({x:t,y:t})}))),l&&!i&&(d=s,p=s.map((()=>0)),u=d.map((function(t){return e.evaluate({x:t,y:0})}))),i&&!l&&(d=s.map((()=>0)),p=s,u=p.map((function(t){return e.evaluate({x:0,y:t})}))),a.push({x:d,y:p,z:u,type:"scatter3d",name:n.trim()})}catch(s){continue}}i.newPlot("plot",a)}}},f=p("data-v-397099bf");n("data-v-397099bf");const v={class:"math-equation-content"},y={class:"expression"},w=a("div",{id:"plot"},null,-1);l();const V=f(((s,n,l,o,r,i)=>{const p=d("Kinput");return e(),t("div",v,[a("div",y,[a(p,{label:"方程",modelValue:r.expression,"onUpdate:modelValue":n[1]||(n[1]=e=>r.expression=e),placeholder:r.defaultExpression},null,8,["modelValue","placeholder"]),a(p,{label:"X轴范围",modelValue:r.intervalSlider,"onUpdate:modelValue":n[2]||(n[2]=e=>r.intervalSlider=e),modelModifiers:{number:!0}},null,8,["modelValue"])]),w])}));h.render=V,h.__scopeId="data-v-397099bf";u({setup:a=>(a,s)=>(e(),t(h,{msg:"Hello Vue 3 + Vite"}))}).mount("#app");
